@using MvcOnlineTicariOtomasyon.Models.Siniflar
@model List<Cari>
@{
    ViewBag.Title = "Index";
    Layout = "~/Views/Shared/_AdminLayout2.cshtml";
}

<body>
    <br />
        <div class="row">
            <div class="col-lg-12 col-sm-12">
                <div class="card">
                    <div class="card-body table-responsive">
                        <h5 class="header-title">Cari Listesi</h5>
                        <table id="example" class="table table-bordered table-hover" style="margin-top:20px;">
                            <thead>
                                <tr class="table-active">
                                    <th>Cari Id</th>
                                    <th>Ad</th>
                                    <th>Soyad</th>
                                    <th>Şehir</th>
                                    <th>Mail</th>
                                    <th  class="text-center">Güncelle</th>                                           
                                    <th  class="text-center">Detaylar</th>
                                </tr>
                            </thead>
                            @foreach (var item in Model)
                            {
                                <tr>
                                    <td>@item.CariId</td>
                                    <td>@item.CariAd</td>
                                    <td>@item.CariSoyad</td>
                                    <td>@item.CariSehir</td>
                                    <td>@item.CariMail</td>
                                    <td align="center"><a href="/Cari/CariGetir/@item.CariId" class="btn btn-warning">Güncelle</a></td>                                           
                                    <td align="center"><a href="/Cari/MusteriSatis/@item.CariId" class="btn btn-success">Satış Geçmişi</a></td>
                                </tr>
                            }
                        </table>
                        <a href="/Cari/YeniCari" class="btn btn-primary">Yeni Cari Ekle</a>
                    </div>
                </div>
            </div>
        </div>
    <script src="~/assets/js/jquery.min.js"></script>

  
</body>
<script type="text/javascript" class="init">
    $(document).ready(function () {
        // Setup - add a text input to each footer cell
        $('#example thead tr').clone(true).appendTo('#example thead');
        $('#example thead tr:eq(1) th').each(function (i) {
            var title = $(this).text();
            $(this).html('<input type="text" placeholder=" ' + title + ' Ara " />');

            $('input', this).on('keyup change', function () {
                if (table.column(i).search() !== this.value) {
                    table
                        .column(i)
                        .search(this.value)
                        .draw();
                }
            });
        });

        var table = $('#example').DataTable({
            orderCellsTop: true,
            fixedHeader: true
        });
    });
</script>
